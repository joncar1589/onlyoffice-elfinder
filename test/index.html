<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Section CSS -->
    <!-- jQuery UI (REQUIRED) -->
    <link rel="stylesheet" href="../elfinder/jquery/jquery-ui-1.12.0.css" type="text/css">
    <!-- elfinder css -->
    <link rel="stylesheet" href="../elfinder/css/commands.css"    type="text/css">
    <link rel="stylesheet" href="../elfinder/css/common.css"      type="text/css">
    <link rel="stylesheet" href="../elfinder/css/contextmenu.css" type="text/css">
    <link rel="stylesheet" href="../elfinder/css/cwd.css"         type="text/css">
    <link rel="stylesheet" href="../elfinder/css/dialog.css"      type="text/css">
    <link rel="stylesheet" href="../elfinder/css/fonts.css"       type="text/css">
    <link rel="stylesheet" href="../elfinder/css/navbar.css"      type="text/css">
    <link rel="stylesheet" href="../elfinder/css/places.css"      type="text/css">
    <link rel="stylesheet" href="../elfinder/css/quicklook.css"   type="text/css">
    <link rel="stylesheet" href="../elfinder/css/statusbar.css"   type="text/css">
    <link rel="stylesheet" href="../elfinder/css/theme.css"       type="text/css">
    <link rel="stylesheet" href="../elfinder/css/toast.css"       type="text/css">
    <link rel="stylesheet" href="../elfinder/css/toolbar.css"     type="text/css">
    <style>
        @media screen and (max-width:480px){
            .elfinder-navbar {
                display: none !important;
            }
            .elfinder *:not(input):not(textarea):not(select):not([contenteditable=true]), .elfinder-contextmenu *:not(input):not(textarea):not(select):not([contenteditable=true]){
                left:0 !important;
            }

            body:after {
                display:none !important;
            }
            #elfinder{
                margin-top:40px
            }
        }
    </style>
</head>
<body>
    <div id="elfinder"></div>
    <script src="{{asset('assets/elfinder/jquery/jquery-ui-1.12.0.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.version.js')}}"></script>
<script src="{{asset('assets/elfinder/js/jquery.elfinder.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.mimetypes.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.options.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.options.netmount.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.history.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.command.js')}}"></script>
<script src="{{asset('assets/elfinder/js/elFinder.resources.js')}}"></script>
<script src="{{asset('assets/elfinder/js/jquery.dialogelfinder.js')}}"></script>
<script src="{{asset('assets/elfinder/js/i18n/elfinder.es.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/button.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/contextmenu.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/cwd.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/dialog.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/fullscreenbutton.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/navbar.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/navdock.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/overlay.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/panel.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/path.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/places.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/searchbutton.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/sortbutton.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/stat.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/toast.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/toolbar.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/tree.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/uploadButton.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/viewbutton.js')}}"></script>
<script src="{{asset('assets/elfinder/js/ui/workzone.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/archive.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/back.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/copy.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/cut.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/chmod.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/colwidth.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/download.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/duplicate.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/edit.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/empty.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/extract.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/forward.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/fullscreen.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/getfile.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/help.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/hidden.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/home.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/info.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/mkdir.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/mkfile.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/netmount.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/open.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/opendir.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/paste.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/places.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/quicklook.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/quicklook.plugins.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/reload.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/rename.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/resize.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/restore.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/rm.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/search.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/selectall.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/selectinvert.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/selectnone.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/sort.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/undo.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/up.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/upload.js')}}"></script>
<script src="{{asset('assets/elfinder/js/commands/view.js')}}"></script>
<script src="{{asset('assets/elfinder/js/proxy/elFinderSupportVer1.js')}}"></script>
<script src="{{asset('assets/elfinder/js/extras/editors.default.js')}}"></script>
<script src="{{asset('assets/elfinder/js/extras/quicklook.googledocs.js')}}"></script>

<script>
    window.onload = function(){
    $(function() {
        $("#elfinder").elfinder(
            // 1st Arg - options
            {
                // Disable CSS auto loading
                cssAutoLoad : false,
                lang:'es',
                // Base URL to assets/elfinder/css/*, assets/elfinder/js/*
                baseUrl : "./",
                customData: { 
                    //_token: '<?= csrf_token() ?>'
                },

                // Connector URL
                url : '',
                uiOptions: {
                    toolbar : [
                        // toolbar configuration
                        ['open','upload'],
                        ['back', 'forward'],
                        ['reload','mkdir','mkfile','getfile'],
                        ['home', 'up','copy','cut','paste'],
                        ['quicklook'],
                        ['search'],
                        ['view'],
                    ]
                },
                commandsOptions : {
                    quicklook : {
                        width : 1024,  // Set default width/height voor quicklook
                        height : 768,
                        
                        googleDocsMimes : [
                            'application/pdf',
                            'application/vnd.ms-office', 
                            'application/msword', 
                            'application/vnd.ms-word', 
                            'application/vnd.ms-excel', 
                            'application/vnd.ms-powerpoint', 
                            'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 
                            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                            'application/vnd.openxmlformats-officedocument.presentationml.presentation'
                        ]
                    }
                }
            },
            
            // 2nd Arg - before boot up function
            function(fm, extraObj) {
                // `init` event callback function
                fm.bind("init", function() {
                });

                fm.onlyofficeURL = 'https://5.161.93.162:8543/';

                fm.callback = ()=>{}

                fm.bind('dblclick', function(e) {
                    e.preventDefault();
                    //added code to make files preview on double click
                    /*fm.exec('getfile').done(function(){
                        fm.exec('quicklook');
                    });
                                // end additional code

                    fm.exec('getfile').fail(function() {
                        fm.exec('open');
                    });*/
                    fm.exec('quicklook');
                });
                
                // Optional for set document.title dynamically.
                var title = document.title;
                fm.bind("open", function() {
                    var path = "",
                        cwd  = fm.cwd();
                    if (cwd) {
                        path = fm.path(cwd.hash) || null;
                    }
                    document.title = path? path + ":" + title : title;
                }).bind("destroy", function() {
                    document.title = title;
                });
            }
        );
    });
}
</script>
</body>
</html>